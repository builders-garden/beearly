generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String    @id @default(cuid())
  address       String
  created_at    DateTime? @db.Date
  updated_at    DateTime? @db.Date
}

model Waitlist {
  id               String           @id(map: "waitlist_pk") @db.Uuid
  name             String           @db.VarChar
  slug             String
  externalUrl     String            @map("external_url")  
  endDate         DateTime          @db.Date @map("end_date")
  imageLanding    String            @map("image_landing")
  imageSuccess    String            @map("image_success")
  userAddress     String            @map("user_address")
  createdAt       DateTime          @db.Date @map("created_at")
  updatedAt       DateTime          @db.Date @map("updated_at")
  waitlistedUsers WaitlistedUser[]
}

model WaitlistedUser {
  id            String     @id(map: "waitlisted_users_pk") @db.Uuid
  waitlistId    String     @db.Uuid @map("waitlist_id")
  fid           Int?
  displayName   String     @db.VarChar @map("display_name")
  username      String     @db.VarChar
  avatarUrl     String?    @map("avatar_url")
  powerBadge    Boolean?   @default(false) @map("power_badge")
  waitlistedAt  DateTime   @db.Date
  createdAt     DateTime   @db.Date @map("created_at")
  updatedAt     DateTime   @db.Date @map("updated_at")
  waitlist      Waitlist?  @relation(fields: [waitlistId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "waitlisted_users_waitlist_id_fk")
}
